const node_openssl = require('../index.js');
var fs = require('fs');

var options = {
	//binpath: 'C:/Program Files/OpenVPN/bin/openssl.exe'
	binpath: 'C:/Program Files/OpenSSL-Win64/bin/openssl.exe'
}

var openssl = new node_openssl(options);

fs.readFile('./pkcs1.key', function(err, contents) {
	openssl.encryptRSAPrivateKey(contents, 'aes256', '4iCgoePB19o4t21oTJHE', function(err, encryptedkey, cmd) {
		if(err) {
			openssl.encryptECCPrivateKey(contents, 'aes256', '4iCgoePB19o4t21oTJHE', function(err, encryptedkey, cmd) {
				if(err) {
					console.log(err);
				} else {
					console.log(encryptedkey);
				}
			});
		} else {
			console.log(encryptedkey);
		}
	});
});